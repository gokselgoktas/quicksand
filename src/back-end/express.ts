import express from 'express';
import path from 'path';

const PORT = process.env.PORT || 8080;

const BACK_END_PATH = __dirname;
const FRONT_END_PATH = path.resolve(__dirname, '..', 'client');

const app = express();

app.use(express.static(FRONT_END_PATH));

app.get('*', (request, response) => response.sendFile(path.resolve(FRONT_END_PATH, 'index.html')));

app.listen(PORT, () => {
    console.log(
        '\x20\x64\x50\x22\x59\x62\x20\x20\x38\x38\x20\x20\x20\x38\x38\x20\x38\x38\x20\x20\x64\x50\x22\x22\x62\x38\x20' +
            '\x38\x38\x20\x20\x64\x50\x20\x2e\x64\x50\x22\x59\x38\x20\x20\x20\x20\x64\x62\x20\x20\x20\x20\x38\x38\x62' +
            '\x20\x38\x38\x20\x38\x38\x38\x38\x62\x2e\x20\x20\x0a\x64\x50\x20\x20\x20\x59\x62\x20\x38\x38\x20\x20\x20' +
            '\x38\x38\x20\x38\x38\x20\x64\x50\x20\x20\x20\x60\x22\x20\x38\x38\x6f\x64\x50\x20\x20\x60\x59\x62\x6f\x2e' +
            '\x22\x20\x20\x20\x64\x50\x59\x62\x20\x20\x20\x38\x38\x59\x62\x38\x38\x20\x20\x38\x49\x20\x20\x59\x62\x20' +
            '\x0a\x59\x62\x20\x62\x20\x64\x50\x20\x59\x38\x20\x20\x20\x38\x50\x20\x38\x38\x20\x59\x62\x20\x20\x20\x20' +
            '\x20\x20\x38\x38\x22\x59\x62\x20\x20\x6f\x2e\x60\x59\x38\x62\x20\x20\x64\x50\x5f\x5f\x59\x62\x20\x20\x38' +
            '\x38\x20\x59\x38\x38\x20\x20\x38\x49\x20\x20\x64\x59\x20\x0a\x20\x60\x22\x59\x6f\x59\x6f\x20\x60\x59\x62' +
            '\x6f\x64\x50\x27\x20\x38\x38\x20\x20\x59\x62\x6f\x6f\x64\x50\x20\x38\x38\x20\x20\x59\x62\x20\x38\x62\x6f' +
            '\x64\x50\x27\x20\x64\x50\x22\x22\x22\x22\x59\x62\x20\x38\x38\x20\x20\x59\x38\x20\x38\x38\x38\x38\x59\x22' +
            '\x20\x20\x0a'
    );

    console.log(`Quicksand is listening on ${PORT}`);
    console.log('Press CTRL+C to terminate');
});
